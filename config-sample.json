{
  "version": "3",
  "port": "32222",
  "jenkins": {
    "user": "USER",
    "token": "TOKEN",
    "base_url": "https://JENKINS_BASE_URL",
    "endpoints": [
      {
        "id": "multibranch_pipeline_scan",
        "path": "/job/{{.repository}}_multibranch/build",
        "retry": {
          "delay": "10",
          "count": "5"
        },
        "success": {
          "http_status": "200"
        }
      },
      {
        "id": "multibranch_pipeline_branch",
        "path": "/job/{{.repository}}_multibranch/job/{{.branch}}/build",
        "retry": {
          "delay": "5",
          "count": "3"
        },
        "success": {
          "http_status": "201"
        }
      }
    ]
  },
  "triggers": {
    "jenkins": [
      {
        "endpoint": "multibranch_pipeline_scan",
        "conditions": {
          "push": true
        }
      },
      {
        "endpoint": "multibranch_pipeline_branch",
        "conditions": {
          "push": true,
          "repositories": [
            { "name": "repo1" },
            { "name": "repo2", "branches": ["branch1", "branch2"] }
          ],
          "branches": [
            { "name": "master" },
            { "name": "branch1", "repositories": ["repo1", "repo2"] }
          ]
        }
      }
    ]
  }
}
